\BLOCK{- if show_question}

\BLOCK{ if pre_description -}
\VAR{pre_description}
\BLOCK{ endif }

$$\begin{alignat*}{20}
\VAR{lp.get_goal_str()}\\
\text{s.t.}\quad
\BLOCK{ for c in lp.constraints_str_list }
\VAR{c}
\BLOCK{ endfor }
\VAR{lp.sign_str}
\end{alignat*}$$

\BLOCK{ if after_description -}
\VAR{after_description}
\BLOCK{ endif -}

\BLOCK{ endif -}

\BLOCK{- if show_answer}
\BLOCK{ if simplex_pre_description -}
\VAR{simplex_pre_description}
\BLOCK{ endif }

解: 引入\BLOCK{ if lp.solutionPhase1.slack_str_list_intro }松弛变量$\VAR{lp.solutionPhase1.slack_str_list_intro|join(",\,") }$，\BLOCK{ endif -}
\BLOCK{- if lp.solutionPhase1.neg_slack_str_list_intro }剩余变量$\VAR{lp.solutionPhase1.neg_slack_str_list_intro|join(",\,") }$，\BLOCK{ endif -}
\BLOCK{- if lp.solutionPhase1.artificial_str_list_intro }人工变量$\VAR{lp.solutionPhase1.artificial_str_list_intro|join(",\,") }$，\BLOCK{ endif -}
\BLOCK{ if lp.solutionPhase1.need_two_phase }用两阶段法\BLOCK{ else }用单纯形法\BLOCK{ endif -}求解如下：

{% from "latex.jinja" import mytabular_preamble as preamble %}

<p align="middle">
{% call latex(compiler="pdflatex", image_format="png", tex_preamble=preamble)  %}
\BLOCK{ if lp.solutionPhase1.need_two_phase }
\begin{keytable}[H]\centering
\topcaption{第一阶段}
\begin{tabular}{c|c|\BLOCK{ for x in range(0, lp.solutionPhase1.all_variable_str_list|length) }C{1cm}\BLOCK{ endfor }|c}\hline\hline
\multicolumn{2}{c|}{$c_j$}\BLOCK{ for c in lp.solutionPhase1.goal_str_list }&\VAR{c}\BLOCK{ endfor }&\multirow{2}*{$\mathbf{b}$} \\ \cline{1-\VAR{lp.solutionPhase1.all_variable_str_list|length + 2 }}
$\mathbf{C_B}$&$\mathbf{X_B}$\BLOCK{ for x in lp.solutionPhase1.all_variable_str_list }&\VAR{x}\BLOCK{ endfor }&\\ \hline
\BLOCK{ for i in range(0, lp.solutionPhase1.tableau_str_list|length) }
\BLOCK{ for j in range(0, lp.solutionPhase1.cb_str_list[i]|length + 1) }
\BLOCK{ if not loop.last } \VAR{lp.solutionPhase1.cb_str_list[i][j]}&\VAR{lp.solutionPhase1.xb_str_list[i][j]}&\BLOCK{ else } \multicolumn{2}{c|}{$\bar c_j$}& \BLOCK{ endif } \VAR{lp.solutionPhase1.tableau_str_list[i][j]|join("&") } \\
\BLOCK{- if loop.revindex0 <= 1 } \hline \BLOCK{ endif }
\BLOCK{ endfor }
\BLOCK{ endfor }
\hline\end{tabular}
\end{keytable}%
\BLOCK{ endif }

\BLOCK{ if pre_stage_2_description -}
\VAR{pre_stage_2_description}
\BLOCK{ endif }
{% endcall %}
</p>



<p align="middle">
{% call latex(compiler="pdflatex", image_format="png", tex_preamble=preamble)  %}
\begin{keytable}[H]\centering
\topcaption{\BLOCK{ if lp.solutionPhase1.need_two_phase }第二阶段\BLOCK{ endif }}
\begin{tabular}{c|c|\BLOCK{ for x in range(0, lp.solutionPhase2.all_variable_str_list|length) }C\BLOCK{ if lp.solutionPhase2.method=="big_m_simplex" }{1.2cm}\BLOCK{ else }{1cm}\BLOCK{ endif }\BLOCK{ endfor }|c}\hline\hline
\multicolumn{2}{c|}{$c_j$}\BLOCK{ for c in lp.solutionPhase2.goal_str_list }&\VAR{c}\BLOCK{ endfor }&\multirow{2}*{$\mathbf{b}$} \\ \cline{1-\VAR{lp.solutionPhase2.all_variable_str_list|length + 2 }}
$\mathbf{C_B}$&$\mathbf{X_B}$\BLOCK{ for x in lp.solutionPhase2.all_variable_str_list }&\VAR{x}\BLOCK{ endfor }&\\ \hline
\BLOCK{ for i in range(0, lp.solutionPhase2.tableau_str_list|length) }
\BLOCK{ for j in range(0, lp.solutionPhase2.cb_str_list[i]|length + 1) }
\BLOCK{ if not loop.last } \VAR{lp.solutionPhase2.cb_str_list[i][j]}&\VAR{lp.solutionPhase2.xb_str_list[i][j]}&\BLOCK{ else } \multicolumn{2}{c|}{$\bar c_j$}& \BLOCK{ endif } \VAR{lp.solutionPhase2.tableau_str_list[i][j]|join("&") } \\
\BLOCK{- if loop.revindex0 <= 1 } \hline \BLOCK{ endif }
\BLOCK{ endfor }
\BLOCK{ endfor }
\hline\end{tabular}
\end{keytable}%
{% endcall %}
</p>

\BLOCK{ if lp.solutionPhase1.need_two_phase }原始问题\BLOCK{ else }本问题\BLOCK{ endif }\VAR{lp.solve_message}。


\BLOCK{ if simplex_after_description -}
\VAR{simplex_after_description}
\BLOCK{ endif }
\BLOCK{ endif }