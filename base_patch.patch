 course/templates/course/course-base.html | 33 ++++++++++++++++++++++++++++++++
 course/templates/course/flow-page.html   |  1 +
 relate/templates/base.html               | 16 ++++++++++++++--
 3 files changed, 48 insertions(+), 2 deletions(-)

diff --git a/course/templates/course/course-base.html b/course/templates/course/course-base.html
index 9f48135..3103b54 100644
--- a/course/templates/course/course-base.html
+++ b/course/templates/course/course-base.html
@@ -141,4 +141,37 @@
       {% endif %}
     </div>
   {% endif %}
+
+  {# {{{ pdf.js for pdf #}
+
+  <script type="text/javascript">
+    function embed_viewer()
+      {
+          // alert on browser which is below IE 9
+          var div = document.createElement("div");
+          div.innerHTML = "<!--[if lt IE 9]><i></i><![endif]-->";
+          var isIeLessThan9 = (div.getElementsByTagName("i").length == 1);
+          if (isIeLessThan9) {
+              alert("ie10以下的版本的浏览器不支持预览");
+              }
+          else
+          {
+              var viewpath = $("#download_link").attr("href");
+              $("#pdfviewer_div").html(
+                  "<iframe src = '/static/pdf.js/web/viewer.html?file=" + viewpath + "' width='600' height='450' allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe>"
+              );
+              $("#online_pdfviewer").attr("href","javascript:close_viewer()").html("关闭在线查看");
+          }
+      }
+    function close_viewer()
+      {
+          $("#pdfviewer_div").html("");
+          $("#online_pdfviewer").attr("href","javascript:embed_viewer()").html("在线查看");
+      }      
+      
+          
+  </script>
+
+  {# }}} #}
+
 {% endblock %}
diff --git a/course/templates/course/flow-page.html b/course/templates/course/flow-page.html
index 28224c0..bbc8390 100644
--- a/course/templates/course/flow-page.html
+++ b/course/templates/course/flow-page.html
@@ -10,6 +10,7 @@
 {% endblock %}
 
 {% block content %}
+    <link href="/static/bootstrap/bootstrap_customized/css/bootstrap.css" rel="stylesheet"> 
   <form
     action="{% url "relate-view_flow_page" course.identifier flow_session.id page_data.ordinal %}"
     class="navigation-form"
diff --git a/relate/templates/base.html b/relate/templates/base.html
index f8d7730..5bba44b 100644
--- a/relate/templates/base.html
+++ b/relate/templates/base.html
@@ -10,7 +10,7 @@
     <meta name="viewport" content="width=device-width, initial-scale=1">
     <meta name="description" content="">
     <meta name="author" content="">
-    <link rel="shortcut icon" href="../../assets/ico/favicon.ico">
+    <link rel="shortcut icon" href="/static/images/favicon.ico">
 
     <title>{% block title %}{% trans "RELATE" %}{% endblock %}</title>
 
@@ -43,6 +43,14 @@
     <script type="text/javascript">
       videojs.options.flash.swf = "{% static "videojs/dist/video-js/video-js.swf" %}"
     </script>
+    <script>
+        $(function() {$( "#accordion" ).accordion({
+            active: false,
+            collapsible: true,
+        });
+                     });
+        $(".ui-state-disabled").unbind("click");
+     </script>
   </head>
 
   <body>
@@ -129,9 +137,13 @@
     <!-- JavaScript
     ================================================== -->
     <!-- Placed at the end of the document so the pages load faster -->
-    <script type="text/javascript"
+    <!-- <script type="text/javascript"
       src="{% static "MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML" %}">
+    </script> -->
+    <script type="text/javascript"
+      src="//libs.cncdn.cn/mathjax/2.4.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
     </script>
+      
     <script type="text/x-mathjax-config">
       MathJax.Hub.Config({
         extensions: ["tex2jax.js", "TeX/boldsymbol.js"],
