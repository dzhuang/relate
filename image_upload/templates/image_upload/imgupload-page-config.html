{% extends 'jfu/upload_form.html' %}
{% load i18n %}

{% block CSS_BOOTSTRAP %}{# BOOTSTRAP css (Override to keep it empty) #}{% endblock %}
{% block JS_JQUERY %}{#jQuery (Override to keep it empty) {% endcomment #}{% endblock %}
{% block CSS_HTML5_SHIM %}{# IE 9 lt already supported (Override to keep it empty)#}{% endblock %}

{% block CSS_EXTRA %}
{{ block.super }}
<link rel="stylesheet" href="{{ STATIC_URL }}css/imgupload-page.css">
<link rel="stylesheet" href="{{ STATIC_URL }}cropperjs/dist/cropper.css">
{% endblock %}

{% block JS_BOOTSTRAP %}{# BOOTSTRAP js (Override to keep it empty) #}{% endblock %}

{% block UPLOAD_FORM %}
{% load i18n crispy_forms_tags %}
{% crispy form %}
{% endblock %}

{% block JS_OPTS %}
imageMaxWidth: {{imageMaxWidth}},
imageMaxHeight: {{imageMaxHeight}},
loadImageFileTypes: /^image\/(gif|jpeg|png|svg\+xml)$/,
sequentialUploads: true,
disableImageResize: /Android(?!.*Chrome)|Opera/
    .test(window.navigator && navigator.userAgent),

imageCrop: false, // Force cropped images
acceptFileTypes: /(\.|\/)(png|gif|jpe?g)$/i,
messages: {
            maxFileSize: '{% trans "File is too big" %}',
            minFileSize: '{% trans "File is too small" %}',
            acceptFileTypes: '{% trans "Filetype not allowed" %}',
            maxNumberOfFiles: '{% blocktrans trimmed %} Max number of files exceeded, only {{maxNumberOfFiles}} allowed{% endblocktrans %}',
            uploadedBytes: '{% trans "Uploaded bytes exceed file size" %}',
            emptyResult: '{% trans "Empty file upload result" %}'
            },
imageOrientation: true,
maxNumberOfFiles: {{maxNumberOfFiles}},
previewMaxWidth: {{previewMaxWidth}},
previewMaxHeight: {{previewMaxHeight}},
maxFileSize: {{maxFileSize}},
minFileSize: {{minFileSize}},
{% endblock %}


{% block JS_EXTRA %}
{{ block.super }}
<script src="{% url 'javascript-catalog-image-upload' %}"></script>
<script src="{{ STATIC_URL }}cropperjs/dist/cropper.js"></script>
<script src="{{ STATIC_URL }}js/imgupload-page-min.js"></script>
{% endblock %}

{% block JS_UPLOAD_TEMPLATE %}{% endblock %}
{% block JS_DOWNLOAD_TEMPLATE %}{% endblock %}
